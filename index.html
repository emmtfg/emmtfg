<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Redirecting to /mtfg/...</title>
  <meta http-equiv="refresh" content="600"> <!-- Auto-refresh every 10 minutes -->
  <script>
    async function redirectToLatestMtfg() {
      try {
        const proxyUrl = "https://corsproxy.io/?https://a.4cdn.org/lgbt/catalog.json";
        const response = await fetch(proxyUrl);
        const catalog = await response.json();

        for (const page of catalog) {
          for (const thread of page.threads) {
            const title = (thread.sub || "").toLowerCase();
            const comment = (thread.com || "").toLowerCase();

            if (title.includes("mtfg") || title.includes("male to female") ||
                comment.includes("mtfg") || comment.includes("male to female")) {
              window.location.href = `https://boards.4chan.org/lgbt/thread/${thread.no}`;
              return;
            }
          }
        }

        // If no thread found
        document.body.innerHTML = "⚠️ No /mtfg/ thread found right now.";
      } catch (error) {
        console.error("Fetch error:", error);
        document.body.innerHTML = "❌ Could not fetch /mtfg/ thread.";
      }
    }

    redirectToLatestMtfg();
  </script>
</head>
<body>
</body>
</html>

